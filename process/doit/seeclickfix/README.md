# SeeClickFix

Workflow for fetching Improve Detroit issues from the SeeClickFix API and doing analysis (and eventually publishing to Socrata or some other database).

## Context

The Improve Detroit app is built on the SeeClickFix platform, which makes data about issues available through two APIs: a public endpoint and an organization endpoint that requires authentication. The organization enpoint gives us more fields for the same set of issues.

We publish issues from the public endpoint on our Socrata Open Data Portal - found [here](https://data.detroitmi.gov/Government/Improve-Detroit-Submitted-Issues/fwz3-w3yn) - using the process outlined in [Socrata's Connectors & ETL Templates repository](https://socrata.github.io/connectors/templates/see-click-fix-to-socrata.html).

Different city departments are interested in using the more detailed organizational issue data to track various metrics on a monthly or weekly basis.

## Download

We wrote our own python script to work with the organization endpoint. It flattens nested data fields, paginates through the issues, and writes them to a .csv.

Get the data by running: `python scf_to_csv.py` and `python scf_comments_to_csv.py`

Requires python 3.6

## Analysis

Some stats we're interested in tracking:
- How many issues of each type are opened?
- How many days pass from when an issue is created to when it's closed? Is this time within the Service Level Agreements different departments commit to?
- What types of issues are most likely to be re-opened? To be duplicates?
- How many issues are closed because they are out of City jurisdiction (eg potholes on state roads)?

Two ways we want to do analysis:
1. Within a custom date range, as in `02_analyze_range.ipynb`
2. Over a series of time (like comparing days, weeks, months, etc), as in `02_analyze_series.ipynb`

Both analysis notebooks run `01_transform.ipynb` first to clean-up and enrich the issue data. 

The .csvs imported there are generated by running the commands found in Download above.

Both analysis notebooks have a `config` variable where you can define your own parameters.
