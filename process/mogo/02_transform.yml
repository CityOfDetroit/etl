- type: sql
  statements:
    - drop view if exists transit.mogo_socrata
    - create view
        transit.mogo_socrata as
        ( select 
            name,
            docks,
            case when wkb_geometry is null then null else
              concat(
                'location (',
                ST_Y(ST_Centroid(wkb_geometry)), 
                ',', 
                ST_X(ST_Centroid(wkb_geometry)),
                ')'
              ) 
            end as location
          from transit.mogo )
    - drop view if exists transit.mogo_arcgis;
    - create view
        transit.mogo_arcgis as
        ( select 
            name,
            docks,
            wkb_geometry
          from transit.mogo where wkb_geometry is not null)